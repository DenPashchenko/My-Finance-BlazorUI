@page "/categories"

<PageTitle>Categories</PageTitle>

@using MyFinance.Application.Categories.Queries.GetCategoryList;
@inject IMediator Mediator
@inject NavigationManager NavigationManager

<h1>Categories</h1>

@if (CategoryListVm == null)
{
	<p><em>Loading...</em></p>
}
else
{
	<button class="btn btn-info my-3" @onclick="CreateCategory">Create a new category</button>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>Name</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var category in categories)
			{
				<tr>
					<td>@category.Name</td>
					<td>
						<button class="btn btn-outline-primary ms-4 mx-2" @onclick="(() => ShowCategory(category.Id))">
							<span class="bi bi-zoom-in"></span>
						</button>
						<button class="btn btn-outline-primary mx-2" @onclick="(() => EditCategory(category.Id))">
							<span class="bi bi-pencil"></span>
						</button>
						<button class="btn btn-outline-danger mx-2" @onclick="(() => DeleteCategory(category.Id))">
							<span class="bi bi-trash"></span>
						</button>
					</td>
				</tr>
			}
		</tbody>
	</table>
	<br />
	<a href="#" onclick="history.back()">Back</a>
}
